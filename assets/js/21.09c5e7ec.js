(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{647:function(_,v,t){"use strict";t.r(v);var a=t(2),r=Object(a.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h2",{attrs:{id:"_1-1-集成开发准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-集成开发准备"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[_._v("1.1.集成开发准备")])]),_._v(" "),t("p",[_._v("l  获取平台访问授权AccessKeyId和AccessKeySecret;")]),_._v(" "),t("p",[_._v("l  通过AccessKeyId和AccessKeySecret换取平台访问AccessToken;")]),_._v(" "),t("p",[_._v("平台访问授权获取方式，请查看《深业集团IoT平台应用开发标准.docx》。")]),_._v(" "),t("h2",{attrs:{id:"_1-2-主数据集成标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-主数据集成标准"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[_._v("1.2.主数据集成标准")])]),_._v(" "),t("h3",{attrs:{id:"_1-2-1-应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-应用场景"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.2.1.")]),_._v(" 应用场景")])]),_._v(" "),t("p",[_._v("l  主数据集成是指IoT平台和第三方平台中的基础数据同步。IoT平台主要包含5大类基础数据，分别为组织、企业成员、业主、项目、空间。其中空间数据下细分为5类数据，包含区域、楼栋、单元、楼层、房屋。")]),_._v(" "),t("p",[_._v("l  保障第三方平台和IoT平台的数据一致性。")]),_._v(" "),t("h3",{attrs:{id:"_1-2-2-功能说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-2-功能说明"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.2.2.")]),_._v(" 功能说明")])]),_._v(" "),t("p",[_._v("IoT平台提供推送数据的方式进行主数据的同步。需要企业按照规范提供接口进行数据同步。数据同步方式包含全量同步和增量同步，仅在查询到该类型数据不存在成功状态的同步记录时才会进行。当该类型数据已存在成功状态的同步记录时，会进行增量数据的同步，增量数据同步包含新增、更新、删除。删除操作需要通过指定字段（is_delete）进行标识。")]),_._v(" "),t("p",[t("em",[_._v("注意：推送指第三方平台调用"),t("strong",[_._v("IoT")]),_._v("平台提供的标准接口进行数据同步。")])]),_._v(" "),t("p",[_._v("1.1.1.1\n同步方式")]),_._v(" "),t("p",[_._v("数据提供方按照接口规范将数据进行同步，同步异常情况或者数据推送的时序性需要由供方进行处理和保证，例如网络异常需要进行重试等操作。")]),_._v(" "),t("p",[_._v("时序说明：组织→项目→区域→楼栋→单元→楼层→房屋→住户。")]),_._v(" "),t("p",[_._v("空间数据同步时，可使用下列模型，进行同步：")]),_._v(" "),t("p",[_._v("1、项目-楼栋-房屋 (商业房屋)")]),_._v(" "),t("p",[_._v("2、项目-楼栋-楼层-房屋")]),_._v(" "),t("p",[_._v("3、项目-楼栋-单元-楼层-房屋")]),_._v(" "),t("p",[_._v("4、项目-区域-楼栋-房屋")]),_._v(" "),t("p",[_._v("5、项目-区域-楼栋-楼层-房屋")]),_._v(" "),t("p",[_._v("6、项目-区域-楼栋-单元-楼层-房屋")]),_._v(" "),t("h2",{attrs:{id:"_1-1-统一认证集成标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-统一认证集成标准"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[_._v("1.1.统一认证集成标准")])]),_._v(" "),t("h3",{attrs:{id:"_1-1-1-应用场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-应用场景"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.1.")]),_._v(" 应用场景")])]),_._v(" "),t("p",[_._v("IoT平台集成第三方平台身份认证，实现成员和用户的单点登录。")]),_._v(" "),t("h3",{attrs:{id:"_1-1-2-功能说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-功能说明"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.2.")]),_._v(" 功能说明")])]),_._v(" "),t("p",[_._v("实现逻辑类似于平台成员白名单概念，提供成员免密登录，成员第三方登录、用户第三方登录等功能。")]),_._v(" "),t("p",[_._v("1.1.2.1\n成员免密认证步骤")]),_._v(" "),t("p",[_._v("成员数据从第三方主数据系统同步到IoT平台，关键必须字段为association_id和account，并且2个字段需要唯一（同步方式参考主数据集成标准）；")]),_._v(" "),t("p",[_._v("第三方身份认证平台输入账号密码登录后，跳转到IoT平台单点登录页面；")]),_._v(" "),t("p",[_._v("进入页面后调用IoT平台成员免密登录API获取token；")]),_._v(" "),t("p",[_._v("获取token成功即表示认证成功，反之则失败。")]),_._v(" "),t("p",[t("em",[_._v("注意：跳转"),t("strong",[_._v("IoT")]),_._v("平台单点登录页面再获取"),t("strong",[_._v("token")]),_._v("方式可由其它方式实现。")])]),_._v(" "),t("p",[_._v("1.1.2.2\n成员第三方认证步骤")]),_._v(" "),t("p",[_._v("成员数据从第三方主数据系统同步到IoT平台，关键必须字段为association_id（同步方式参考主数据集成标准）；")]),_._v(" "),t("p",[_._v("在IoT平台设置企业第三方认证回调配置；")]),_._v(" "),t("p",[_._v("第三方身份认证平台输入账号密码登录后，跳转到IoT平台单点登录页面；")]),_._v(" "),t("p",[_._v("进入页面后调用IoT平台成员第三方认证API获取token；")]),_._v(" "),t("p",[_._v("获取token成功即表示认证成功，反之则失败。")]),_._v(" "),t("h2",{attrs:{id:"_1-1-短信集成标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-短信集成标准"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[_._v("1.1.短信集成标准")])]),_._v(" "),t("h3",{attrs:{id:"_1-1-1-应用场景-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-应用场景-2"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.1.")]),_._v(" 应用场景")])]),_._v(" "),t("p",[_._v("短信集成服务是Iot平台提供的用于客户自定义短信发送通道的功能。客户可以使用短信集成服务实现将物联网平台需要发送短信的业务通过客户指定的第三方短信平台进行发送。可用于以下业务场景：")]),_._v(" "),t("p",[_._v("l  客户已有自建的统一的短信系统，需要将IoT平台的短信通过客户自建的短信系统发送；")]),_._v(" "),t("p",[_._v("l  客户希望根据不同用户地区、用户短信类型采用不同的短信发送提供商的短信发送服务。")]),_._v(" "),t("h3",{attrs:{id:"_1-1-2-功能说明-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-功能说明-2"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.2.")]),_._v(" 功能说明")])]),_._v(" "),t("p",[_._v("客户在IoT平台管理台【应用中心->集成->短信服务->短信配置】中开启第三方短信平台功能，并填写URL与Token。其中URL是用来接收IoT平台发送的短信数据接口，URL必须为HTTPS接口；Token用作验证URL有效性。在IoT平台产生一条短信后，将使用第三方厂商平台发送短信，IoT平台会将短信 POST到第三方厂商短信平台，最终由第三方厂商平台将短信发出。")]),_._v(" "),t("p",[_._v("短信主要包含以下几种：")]),_._v(" "),t("p",[_._v("l  用户注册验证码")]),_._v(" "),t("p",[_._v("l  用户忘记密码")]),_._v(" "),t("p",[_._v("l  用户更新手机号码")]),_._v(" "),t("p",[_._v("l  用户短信登录")]),_._v(" "),t("h2",{attrs:{id:"_1-1-工单集成标准"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-工单集成标准"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[_._v("1.1.工单集成标准")])]),_._v(" "),t("h3",{attrs:{id:"_1-1-1-应用场景-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-应用场景-3"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.1.")]),_._v(" 应用场景")])]),_._v(" "),t("p",[_._v("第三方工单系统对接IoT平台工单。")]),_._v(" "),t("p",[_._v("文中将阐述IoT平台提供对接流程说明和相关接口信息说明，指导第三方工单系统顺利完成对接。")]),_._v(" "),t("h3",{attrs:{id:"_1-1-2-功能说明-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-功能说明-3"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.2.")]),_._v(" 功能说明")])]),_._v(" "),t("p",[_._v("可实现设备出现异常后，将异常信息转发至第三方的工单系统中，并在工单系统完成后，将对应的状态信息回写至IoT平台的对应工单记录中。")]),_._v(" "),t("h3",{attrs:{id:"_1-1-3-集成准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-集成准备"}},[_._v("#")]),_._v(" "),t("a",{attrs:{href:""}},[t("strong",[_._v("1.1.3.")]),_._v(" 集成准备")])]),_._v(" "),t("p",[_._v("第三方工单系统开发人员根据提供的工单集成标准对接信息进行开发，使第三方工单系统能够提供工单系统地址，实现创建工单、查询工单及工单回调等功能，以满足第三方工单系统和IoT平台的工单信息交互需求。")]),_._v(" "),t("p",[_._v("IoT平台配置第三方工单系统：")]),_._v(" "),t("p",[_._v("l  在IoT平台管理台上【应用中心】-【集成服务】-【工单服务】-【系统类型】中新增系统类型；")]),_._v(" "),t("p",[_._v("l  在新增系统类型页面中，系统类型标识需选择 YUNZHIYI 一项，其他表单信息根据实际填写。")]),_._v(" "),t("p",[_._v("IoT平台配置工单实例：")]),_._v(" "),t("p",[_._v("l  新增系统类型完成之后，在【工单服务】-【工单配置】中新增工单实例；")]),_._v(" "),t("p",[_._v("l  选择新建的系统类型，并填写相应的基础表单信息，根据第三方工单系统开发的创建工单接口，配置根据工单实例变化的相应参数项，完成工单实例的新增。")])])}),[],!1,null,null,null);v.default=r.exports}}]);